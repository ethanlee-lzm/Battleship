(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{30:function(t,n,e){"use strict";e.r(n);var r,i,o,a,c,s,u,b,d,l,h,m,f,g,p,j,x,v,O,w=e(1),y=e.n(w),k=e(14),S=e.n(k),E=e(4),A=e(2),z=e(3),H=Object(z.a)(r||(r=Object(A.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: 'Lato', roboto;\n  }\n  body {\n    background-color: #111;\n    overflow: hidden;\n  }\n  :root {\n    --primary-color: #286bad;\n  }\n"]))),I=z.b.nav(i||(i=Object(A.a)(["\n  text-align: center;\n  padding-top: 3em;\n  margin: 0.5em 0;\n  position: relative;\n\n  @media (min-width: 700px) {\n    margin: 2em 0;\n  }\n"]))),B=z.b.h1(o||(o=Object(A.a)(["\n  color: var(--primary-color);\n  font-family: 'Anton';\n  font-size: 2em;\n  letter-spacing: 5px;\n  text-shadow: 3px 3px rgba(0, 0, 0, 0.5);\n  text-transform: uppercase;\n\n  @media (min-width: 700px) {\n    font-size: 3em;\n  }\n"]))),G=z.b.img(a||(a=Object(A.a)(["\n  filter: invert(35%) sepia(63%) saturate(643%) hue-rotate(168deg) \n  brightness(94%) contrast(89%);\n  transform: scaleX(-1);\n  position: absolute;\n  top: -75%;\n  margin-left: -114px;\n\n  @media (min-width: 700px) {\n    top: -58%;\n    margin-left: -151px;\n  }\n"]))),C=z.b.section(c||(c=Object(A.a)(["\n  background-color: #222;\n  border-radius: 10px;\n  box-shadow: 0 0 5px 3px rgba(0, 0, 0, 0.1);\n  margin: 0 auto;\n  overflow: hidden;\n  padding: 0 0.5em 0.5em 0.5em;\n  width: fit-content;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),L=z.b.div(s||(s=Object(A.a)(["\n  background-color: var(--primary-color);\n  padding: 0.5em;\n  position: relative;\n  text-align: center;\n  width: 110%;\n\n  @media (min-width: 700px) {\n    padding: 0.75em;\n  }\n"]))),M=z.b.div(u||(u=Object(A.a)(["\n  margin: 0.5em 1.25em;\n\n  @media (min-width: 700px) {\n    margin: 1em;\n  }\n"]))),T=z.b.table(b||(b=Object(A.a)(["\n  table-layout: fixed;\n  width: 250px;\n  height: 250px;\n"]))),W=z.b.h1(d||(d=Object(A.a)(["\n  color: var(--primary-color);\n  font-size: 1em;\n  margin-bottom: 0.15em;\n  text-shadow: 2px 2px rgba(0, 0, 0, 0.25);\n\n  @media (min-width: 700px) {\n    font-size: 1.5em;\n  }\n"]))),P=z.b.td(l||(l=Object(A.a)(["\n  width: 25px;\n  height: 25px;\n  color: ",";\n  border: 2px solid rgba(255, 255, 255, 0);\n  background-color: ",";\n  font-size: 15px;\n  text-align: center;\n  line-height: 20px;\n  padding: 0;\n  margin: 0;\n  transition: border 0.2s ease-in;\n  user-select: none;\n  text-shadow: ",";\n  cursor: ",";\n\n  :hover {\n    border: 2px solid\n      rgba(255, 255, 255, ",");\n  }\n\n  @media (min-width: 700px) {\n    width: 30px;\n    height: 30px;\n    line-height: 25px;\n  }\n"])),(function(t){return t.isActive?"black":"white"}),(function(t){return t.isActive?"var(--primary-color)":t.isLabel?"":"#333"}),(function(t){return t.isLabel?"3px 3px black":""}),(function(t){return t.isInteractive?"pointer":"auto"}),(function(t){return t.isInteractive?1:0})),N=z.b.div(h||(h=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media (min-width: 700px) {\n    flex-direction: row;\n  }\n"]))),X=z.b.div(m||(m=Object(A.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(255, 255, 255, 0.075);\n  backdrop-filter: blur(5px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Y=z.b.button(f||(f=Object(A.a)(["\n  background-color: var(--primary-color);\n  color: black;\n  border-radius: 3px;\n  padding: 0.5em 1em;\n  font-size: 1em;\n  margin: ",";\n  border: none;\n  cursor: pointer;\n  transition: filter 0.2s ease-out;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    filter: brightness(120%);\n  }\n"])),(function(t){return t.margin})),q=z.b.p(g||(g=Object(A.a)(["\n  color: white;\n  margin: 1em;\n"]))),J=z.b.span(p||(p=Object(A.a)(["\n  position: absolute;\n  background-color: #222;\n  width: 190px;\n  border-radius: 20px;\n  padding: 0.25em 1em;\n  border: 1px solid var(--primary-color);\n  border-bottom-left-radius: 0px;\n  color: white;\n"]))),F=z.b.div(j||(j=Object(A.a)(["\n\tdisplay: flex;\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tpadding: 0.5rem;\n\tfont-family: 'Big Shoulders Text', cursive;\n\tbackground: rgb(126, 126, 126);\n\tbackground: linear-gradient(\n\t\t90deg,\n\t\trgba(126, 126, 126, 1) 0%,\n\t\trgba(205, 205, 203, 1) 29%,\n\t\trgba(181, 181, 181, 1) 76%,\n\t\trgba(122, 122, 122, 1) 100%\n\t);\n\theight: 3rem;\n\tjustify-content: center;\n\ttext-align: center;\n\t& > :first-child {\n\t\tmargin-left: auto;\n\t\tpadding-right: 1rem;\n\t}\n\t& > :last-child {\n\t\tmargin-right: auto;\n\t\tpadding-left: 1rem;\n\t}\n"]))),R=z.b.p(x||(x=Object(A.a)(["\n\tcolor: #000129;\n\tmargin: auto 0;\n\t& > a {\n\t\ttransition: 0.5s;\n\t}\n\t& > a:link,\n\t& > a:active,\n\t& > a:visited {\n\t\tcolor: #000129;\n\t}\n\t& > a:hover {\n\t\tcolor: #333;\n\t\ttransition: 0.5s;\n\t}\n"]))),D=z.b.div(v||(v=Object(A.a)(["\n\tdisplay: flex;\n\t& > * {\n\t\tmargin: auto;\n\t}\n"]))),U=e(0),V=function(){return Object(U.jsxs)(I,{children:[Object(U.jsx)(B,{children:"Battleship"}),Object(U.jsx)(G,{src:"https://static.thenounproject.com/png/44759-200.png",alt:"Logo"})]})},K=function(t){var n=t.title,e=t.board,r=t.receivedAttacks,i=t.clickHandler,o=t.isLabelled,a=void 0!==o&&o,c=t.isInteractive,s=void 0!==c&&c,u=t.areShipsHidden,b=void 0!==u&&u,d=function(t,n){return null===r||void 0===r?void 0:r.find((function(e){return e.x===t&&e.y===n}))},l=function(t,n){var e=d(t,n);if(e)return e.isSuccess?"X":"O"};return Object(U.jsxs)(M,{children:[Object(U.jsx)(W,{children:n}),Object(U.jsx)(T,{children:Object(U.jsxs)("tbody",{children:[a&&Object(U.jsx)("tr",{children:["","A","B","C","D","E","F","G","H","I","J"].map((function(t,n){return Object(U.jsx)(P,{isLabel:!0,children:t},n)}))}),e.map((function(t,n){return Object(U.jsxs)("tr",{children:[a&&Object(U.jsx)(P,{isLabel:!0,children:n},n),t.map((function(t,e){return Object(U.jsx)(P,{isActive:t&&!b,isInteractive:s&&!d(e,n),onClick:function(){s&&!d(e,n)&&i(e,n)},children:l(e,n)},e)}))]},n)}))]})})]})},Q=e(18),Z=function(t){var n=Array.from({length:t},(function(){return Array.from({length:t},(function(){return 0}))})),e=[],r=[];return{getBoard:function(){return n},getAttacks:function(){return r},place:function(r,i,o){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if([r,i,o].includes(void 0))throw new Error("Arguments x, y & ship are required");if("number"!==typeof r||r!==parseInt(r)||r<0||r>t-1)throw new Error("x coordinate must be an integer between 0-9");if("number"!==typeof i||i!==parseInt(i)||i<0||i>t-1)throw new Error("y coordinate must be an integer between 0-9");if(null===o||"object"!==typeof o||void 0===o.length||void 0===o.hit||void 0===o.isSunk||"number"!==typeof o.length||"function"!==typeof o.hit||"function"!==typeof o.isSunk)throw new Error("ship must be a ship object");if("boolean"!==typeof a)throw new Error("isHorizontal must be a boolean");for(var c=a&&r+o.length>t?t-o.length:r,s=a?i:i+o.length>t?t-o.length:i,u=n.map((function(t){return Object(Q.a)(t)})),b=0;b<o.length;b++){if(u[s][c])throw new Error("This ship overlaps another already placed");u[s][c]=o,a?c++:s++}return n=u,e.push(o),n},receiveAttack:function(e,i){if([e,i].includes(void 0))throw new Error("Arguments x & y are required");if("number"!==typeof e||e!==parseInt(e)||e<0||e>t-1)throw new Error("x coordinate must be an integer between 0-9");if("number"!==typeof i||i!==parseInt(i)||i<0||i>t-1)throw new Error("y coordinate must be an integer between 0-9");var o=n[i][e];return"object"===typeof o?(o.hit(function(t,e,r){for(var i=0,o=0;n[e][t+i]===r;)i++;if(i>1)return r.length-i;for(;n[e+o]&&n[e+o][t]===r;)o++;return o>1?r.length-o:r.length-1}(e,i,o)),r.push({x:e,y:i,isSuccess:!0}),!0):(r.push({x:e,y:i,isSuccess:!1}),!1)},allShipsSunk:function(){return e.every((function(t){return t.isSunk()}))}}},$=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Player",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===t)throw new Error("A gameboard is required");if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw new Error("The gameboard must be an object");var r=t.getBoard,i=t.getAttacks,o=t.place,a=t.receiveAttack,c=t.allShipsSunk;if(void 0===r||void 0===i||void 0===o||void 0===a||void 0===c||"function"!==typeof r||"function"!==typeof i||"function"!==typeof o||"function"!==typeof a||"function"!==typeof c)throw new Error("gameboard must be a Gameboard object");if("string"!==typeof n)throw new Error("Player name must be a string");if("boolean"!==typeof e)throw new Error("isRobot must be a boolean");var s=[];r().forEach((function(t,n){return t.forEach((function(t,e){s.push({x:n,y:e})}))}));var u=function(t,n){var e=a(t,n);return s=s.filter((function(e){return!(e.x===t&&e.y===n)})),e},b=function(){var t=s[Math.floor(Math.random()*s.length)],n=t.x,e=t.y;return u(n,e)};return{getName:function(){return n},getType:function(){return e?"Robot":"Human"},getCells:function(){return s},getBoard:function(){return t.getBoard()},takeAttack:e?u:b}},_=function(t){if("number"!==typeof t)throw new Error("Length must be a number");if(![2,3,4,5].includes(t))throw new Error("Length can only be 2, 3, 4 or 5");var n=Array.from({length:t},(function(){return 0}));return{length:t,hit:function(e){if("number"!==typeof e)throw new Error("Position must be a number");if(e<0||e!==parseInt(e))throw new Error("Position must be a positive integer");if(e>=t)throw new Error("Position must be less than length");return n[e]=1,n},isSunk:function(){return n.reduce((function(t,n){return t+n}))===t}}},tt=function(t){var n=t.size,e=t.endGame,r=t.gameboard,i=Object(w.useState)({human:null!==r&&void 0!==r?r:Z(n),robot:Z(n)}),o=Object(E.a)(i,2),a=o[0],c=o[1],s={human:$(a.human,"Your Waters",!1),robot:$(a.robot,"Enemy Waters",!0)},u=s.human,b=s.robot,d=Object(w.useState)(!0),l=Object(E.a)(d,2),h=l[0],m=l[1],f=Object(w.useState)({human:[],robot:[]}),g=Object(E.a)(f,2),p=g[0],j=g[1];Object(w.useEffect)((function(){[5,4,3,3,2].forEach((function(t){for(var n=!1;!n;)try{var e=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),i=Math.random()>.5;a.robot.place(e,r,_(t),i),n=!0}catch(o){}})),c({human:a.human,robot:a.robot})}),[]);var x=function(t,n){h&&(b.takeAttack(t,n),j({human:a.human.getAttacks(),robot:a.robot.getAttacks()}),m(!1),setTimeout((function(){u.takeAttack(),j({human:a.human.getAttacks(),robot:a.robot.getAttacks()}),m(!0)}),1e3),a.human.allShipsSunk()&&e(!1),a.robot.allShipsSunk()&&e(!0))};return Object(U.jsxs)(C,{children:[Object(U.jsx)(L,{children:h?"It is your turn, fire a shot at enemy waters!":"The enemy is taking their shot!"}),Object(U.jsxs)(N,{children:[Object(U.jsx)(K,{size:n,title:u.getName(),board:a.human.getBoard(),receivedAttacks:p.human,clickHandler:x}),Object(U.jsx)(K,{size:n,title:b.getName(),board:a.robot.getBoard(),receivedAttacks:p.robot,areShipsHidden:!0,isInteractive:!0,clickHandler:x})]})]})},nt=e(7),et=e(12),rt=function(t){var n=t.size,e=t.startGame,r=Object(w.useState)(Z(n)),i=Object(E.a)(r,2),o=i[0],a=i[1],c=Object(w.useState)([5,4,3,3,2]),s=Object(E.a)(c,2),u=s[0],b=s[1],d=Object(w.useState)(!0),l=Object(E.a)(d,2),h=l[0],m=l[1],f=Object(w.useState)(!1),g=Object(E.a)(f,2),p=g[0],j=g[1],x=Object(w.useState)(!0),v=Object(E.a)(x,2),O=v[0],y=v[1],k=Object(w.useState)(!1),S=Object(E.a)(k,2),A=S[0],z=S[1];return Object(U.jsxs)(C,{children:[Object(U.jsx)(L,{children:"Set up your Game Board!"}),Object(U.jsx)(K,{size:n,board:o.getBoard(),isLabelled:!0,isInteractive:O,clickHandler:function(t,n){var r=Object(nt.a)({},o);try{r.place(t,n,_(u[0]),h),a(r),b(u.slice(1)),1===u.length&&(y(!1),j(!0),setTimeout((function(){return e(o)}),1e3))}catch(i){z(!0),setTimeout((function(){return z(!1)}),2e3)}},areShipsHidden:!1}),Object(U.jsx)(Y,{margin:"0 0 0.5em 0",onClick:function(){return m(!h)},children:h?"Vertical":"Horizontal"}),Object(U.jsx)(et.a,{visible:A,offsetX:10,offsetY:-35,children:Object(U.jsx)(J,{width:"190px",children:"Can't place ship here!"})}),Object(U.jsx)(et.a,{visible:p,offsetX:10,offsetY:-35,children:Object(U.jsx)(J,{width:"150px",children:"Game Starting!"})})]})},it=function(t){var n=t.isHumanWinner,e=t.startGame;return Object(U.jsx)(X,{children:Object(U.jsxs)(C,{children:[Object(U.jsx)(L,{children:"Game Over"}),Object(U.jsx)(q,{children:n?"Congratulations - You are the winner!":"Unlucky - The enemy won!"}),Object(U.jsx)(Y,{onClick:e,margin:"0 0 0.5em 0",children:"New Game"})]})})},ot=z.b.svg(O||(O=Object(A.a)(["\n\ttransition: 0.5s;\n\t&:hover {\n\t\tfill: black;\n\t\ttransition: 0.5s;\n\t}\n"])));var at=function(t){return Object(U.jsx)("a",{href:"https://github.com/ethanlee-lzm",children:Object(U.jsx)(ot,Object(nt.a)(Object(nt.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:"2rem",width:"2rem",fill:"#555"},t),{},{children:Object(U.jsx)("path",{d:"M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"})}))})};var ct=function(){return Object(U.jsx)(D,{children:Object(U.jsx)(at,{})})};function st(){return Object(U.jsxs)(F,{children:[Object(U.jsx)(ct,{}),Object(U.jsx)(R,{children:"Copyright \xa9 2021 ethanlee-lzm"})]})}var ut=function(){var t=Object(w.useState)({start:!0,game:!1,end:!1,gameboard:void 0,isHumanWinner:void 0}),n=Object(E.a)(t,2),e=n[0],r=n[1];return Object(U.jsxs)(y.a.Fragment,{children:[Object(U.jsx)(H,{}),Object(U.jsx)(V,{}),e.start&&Object(U.jsx)(rt,{size:10,startGame:function(t){r({start:!1,game:!0,end:!1,gameboard:t,isHumanWinner:void 0})}}),e.game&&Object(U.jsx)(tt,{size:10,endGame:function(t){r({start:!1,game:!0,end:!0,isHumanWinner:t})},gameboard:e.gameboard}),e.end&&Object(U.jsx)(it,{isHumanWinner:e.isHumanWinner,startGame:function(){r({start:!0,game:!1,end:!1,gameboard:void 0,isHumanWinner:void 0})}}),Object(U.jsx)(st,{})]})};S.a.render(Object(U.jsx)(y.a.StrictMode,{children:Object(U.jsx)(ut,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.aa4e5735.chunk.js.map